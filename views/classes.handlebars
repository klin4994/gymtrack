<div id="notification"></div>
  <div class="container" id="class-body"> 
    <div class="class-page-banner">
        <div class="class-page-banner-inner">
            <h1 class="class-page-title">Join one of our classes today</h1>
            <input id="class-search" type="text" placeholder="Search classes">
        </div>
    </div>

    <div class="row" id="classes">
        <div class="col-12">
            {{#if classesExist}}
                {{#each classes}}
                    <div class="each-class">
                        <h3><span class="class-name-span">{{name}}</span> <span class="class-date-span">{{classDate}}-{{classEndTime}}</span></h3>
                        <div id="avg-rating-{{id}}-{{avgRating}}" class="avg-rating-div">
                            <span class="avg-rating-span">AVERAGE RATING:</span><!-- Dynamically render average rating -->
                        </div>
                        <hr>
                        <div>
                            <div class="lg-table" style="display: none">
                                <table class="class-table class-table-classes">
                                    <tr>
                                        <td class="table-row-one-c">
                                            <p>INSTRUCTOR:</p>
                                        </td>
                                        <td class="table-row-two">
                                            <p>{{instructorName}}</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="table-row-one-c">
                                            <p>DESCRIPTION:</p>
                                        </td>
                                        <td class="table-row-two">
                                            <div class="description-container">
                                                <p>{{description}}</p>
                                            </div>       
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="table-row-one-c">
                                            <p>COST PER CLASS:</p>
                                        </td>
                                        <td class="table-row-two">
                                            <p>${{price}}</p>
                                        </td>
                                    </tr>                            
                                </table>
                            </div>
                            <div class="sm-table" style="display: none">
                                <table class="class-table class-table-classes">
                                    <tr>
                                        <td class="table-row-one-c">
                                            <p>INSTRUCTOR:</p>
                                        </td>
                                        <td class="table-row-two">
                                            <p>{{instructorName}}</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="table-row-one-c">
                                            <p>DESCRIPTION:</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" class="table-row-two">
                                            <div class="description-container">
                                                <p>{{description}}</p>
                                            </div>       
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="table-row-one-c">
                                            <p>COST PER CLASS:</p>
                                        </td>
                                        <td class="table-row-two">
                                            <p>${{price}}</p>
                                        </td>
                                    </tr>                            
                                </table>
                            </div>
                            {{#if isNotInstructor}}
                            <form class="jump" action=""> 
                                <button class="book-withdraw" data-id="{{id}}" type="submit" value="Book Now">
                                    Book now
                                </button>
                            </form>
                            {{/if}}
                        </div>
                    </div>
                {{/each}} 
            {{else}}
                <div class="no-classes-message">
                    <h3>There are currently no classes</h3>    
                    <p id="no-classes-para">Please check in again later!</p>                 
                </div>     
            {{/if}}  
        </div>
    </div>
</div>

<!-- Modal for booking confirmation -->
<div id="booking-confirmation-modal-bg" class="modal-bg">
    <div class="add-review-modal">
        <div class="booking-confirmation-review-div">
            <div class="booking-confirmation-heading">
                <i class="fas fa-question-circle fa-3x"></i>
                <h4>Confirmation</h4>
                <p>Are you sure you want to book this class?</p>
            </div>
            <div class="confirmation-btn-div">
                <button id="booking-go-back" class="confirm-btn" type="submit">Go back</button>
                <button id="booking-confirm" class="confirm-btn" type="submit">Confirm</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal for withdrawal confirmation -->
<div id="withdraw-confirmation-modal-bg" class="modal-bg">
    <div class="add-review-modal">
        <div class="withdraw-confirmation-review-div">
            <div class="withdraw-confirmation-heading">
                <i class="fas fa-question-circle fa-3x"></i>
                <h4>Confirmation</h4>
                <p>Are you sure you want to withdraw from this class?</p>
            </div>
            <div class="confirmation-btn-div">
                <button id="withdraw-go-back" class="confirm-btn" type="submit">Go back</button>
                <button id="withdraw-confirm" class="confirm-btn" type="submit">Confirm</button>
            </div>
        </div>
    </div>
</div>

<!-- Error message modal --> 
<div id="error-modal-bg" class="modal-bg">
    <div class="add-review-modal">
        <div class="error-modal-div">
            <div class="error-heading">
                <i class="fas fa-times-circle fa-3x"></i>                
                <h4>Oops!</h4>
                <p>
                    An error occurred whilst handling your request.<br>
                    Please refresh the page or try again later.
                </p>
            </div>
            <div class="nav-btn-div">
                <button id="error-ok-btn" class="confirm-btn" type="submit">Okay</button>
            </div>
        </div>
    </div>
</div>
